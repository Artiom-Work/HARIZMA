"use strict";const menuSwitcher=document.getElementById("menu-switch"),mobileMenu=document.querySelector(".mobile-menu__wrapper"),main=document.querySelector("main"),footer=document.querySelector("footer");function bodyLock(){document.body.classList.add("lock-body"),main&&footer&&(main.classList.add("hide-layer"),footer.classList.add("hide-layer"))}function bodyUnlock(){document.body.classList.remove("lock-body"),main&&footer&&setTimeout(function(){main.classList.remove("hide-layer"),footer.classList.remove("hide-layer")},400)}menuSwitcher.addEventListener("change",e=>{e.target.checked?bodyLock():e.target.checked||bodyUnlock()}),mobileMenu.addEventListener("click",e=>{menuSwitcher.checked=!1,bodyUnlock()}),document.addEventListener("DOMContentLoaded",function(){const e=navigator.userAgent.toLowerCase();if(e.includes("iron")){const i=document.querySelectorAll(".iron-image");i.forEach(function(e){var i=e.children[0].getAttribute("xlink:href")+"-iron";console.log(i),e.children[0].setAttribute("xlink:href",i)})}});import{imagesForHall1,imagesForHall2,imagesForHall3,imagesForHall5}from"./data.js";import{descriptionForHall1,descriptionForHall2,descriptionForHall3,descriptionForHall5}from"./data.js";const imagesHall1=JSON.parse(imagesForHall1),imagesHall2=JSON.parse(imagesForHall2),imagesHall3=JSON.parse(imagesForHall3),imagesHall5=JSON.parse(imagesForHall5),descriptionHall1=JSON.parse(descriptionForHall1),descriptionHall2=JSON.parse(descriptionForHall2),descriptionHall3=JSON.parse(descriptionForHall3),descriptionHall5=JSON.parse(descriptionForHall5),hallsButtons=document.querySelectorAll(".preview__list-button"),descriptionHallElements=document.querySelectorAll(".list-description__text"),previewSliderBox=document.querySelector(".preview-swiper2").querySelector(".swiper-wrapper"),previewSlider2Box=document.querySelector(".preview-swiper").querySelector(".swiper-wrapper");let swiper,swiper2;function initSwiper(e){swiper&&(swiper.destroy(),swiper=void 0),swiper2&&(swiper2.destroy(),swiper2=void 0),previewSliderBox.innerHTML="",previewSlider2Box.innerHTML="",createSlide(e,previewSlider2Box),createSlide(e,previewSliderBox),swiper=new Swiper(".preview-swiper",{spaceBetween:0,slidesPerView:5,freeMode:!0,watchSlidesProgress:!0,breakpoints:{1500:{slidesPerView:5},1280:{slidesPerView:4},1e3:{slidesPerView:5},768:{slidesPerView:4}}}),swiper2=new Swiper(".preview-swiper2",{spaceBetween:10,thumbs:{swiper:swiper},pagination:{el:".preview__slider-pagination",type:"fraction"},navigation:{nextEl:".preview__slider-button--next",prevEl:".preview__slider-button--prev"}})}function offHallsButton(){hallsButtons.forEach(e=>{e.classList.remove("preview__list-button--active")})}function onHallButton(e){e.classList.add("preview__list-button--active")}function descriptionHallUpdate(e){let{number:i,size:t,capacity:a}=e[0];descriptionHallElements.forEach(e=>{e&&"hall-name"===e.id&&(e.innerHTML=i),e&&"hall-size"===e.id&&(e.innerHTML=t),e&&"hall-capacity"===e.id&&(e.innerHTML=a)})}function createSlide(e,a){e.forEach(({path:e,pathMobile:i,alt:t})=>{a.insertAdjacentHTML("beforeend",`
						<div class="swiper-slide">
							<picture class="swiper-slide__image-wrapper">
								<source srcset="${e}" media="(max-width: 767px)">
								<img src="${i}" srcset="${e}"
									alt="${t}" />
							</picture>
						</div>
	`)})}initSwiper(imagesHall1),hallsButtons.forEach(t=>{t.addEventListener("click",function(e){offHallsButton(),onHallButton(t);let i;switch(t.id){case"hall1":i=imagesHall1,descriptionHallUpdate(descriptionHall1);break;case"hall2":i=imagesHall2,descriptionHallUpdate(descriptionHall2);break;case"hall3":i=imagesHall3,descriptionHallUpdate(descriptionHall3);break;case"hall5":i=imagesHall5,descriptionHallUpdate(descriptionHall5);break;default:i=imagesHall1}initSwiper(i)})});const mediaQuery=window.matchMedia("(max-width: 1280px)");let tablet=!0;function handleMediaChange(e){tablet=e.matches}handleMediaChange(mediaQuery),mediaQuery.addEventListener("change",handleMediaChange);const swiper3=new Swiper(".steps-reservation__slider",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:33,grabCursor:!0,pagination:{el:".steps-reservation__slider-pagination",type:"fraction"},navigation:{nextEl:".steps-reservation__slider-button--next",prevEl:".steps-reservation__slider-button--prev"},breakpoints:{1280:{spaceBetween:72}},on:{init:function(){updateSlideOpacity(this)},slideChange:function(){updateSlideOpacity(this);const e=this.slides;e.forEach(e=>{const i=e.querySelector(".reservation-step__image-wrapper");i&&i.classList.remove("reservation-step__image-wrapper--active");const t=e.querySelector(".slide-counter");t&&(t.style.display="none")});const i=e[this.activeIndex],t=i.querySelector(".reservation-step__image-wrapper");t&&t.classList.add("reservation-step__image-wrapper--active");const a=i.querySelector(".slide-counter");a&&(a.textContent=`${this.activeIndex+1}`,a.style.display="block")}}});function updateSlideOpacity(t){(tablet?function(){const e=t.slides;e.forEach((e,i)=>{e.classList.remove("opacity-100","opacity-50","opacity-20"),e.classList.add("max-width-mobile"),i===t.activeIndex?e.classList.add("opacity-100"):(i>=t.activeIndex-1||i<=t.activeIndex+1)&&e.classList.add("opacity-50")})}:function(){const e=t.slides;e.forEach((e,i)=>{e.classList.remove("opacity-100","opacity-50","opacity-20"),i===t.activeIndex||i===t.activeIndex-1||i===t.activeIndex+1?e.classList.add("opacity-100"):i===t.activeIndex+2||i===t.activeIndex-2?e.classList.add("opacity-50"):(i>t.activeIndex+2||i<t.activeIndex-2)&&e.classList.add("opacity-20")})})()}const sliderPagination=document.querySelectorAll(".slider-pagination");sliderPagination.forEach(function(e){let i=e.innerHTML;i=i.replace(" / "," из "),e.innerHTML=i}),$(function(){$("#accordion").accordion({active:0,collapsible:!0,header:"dt"})});